# ==========================================
# Airflow & Spark Configuration
# ==========================================
AIRFLOW_UID=50000

# ==========================================
# SPARK CONFIGURATION
# ==========================================
SPARK_VERSION=3.5.0
SPARK_MASTER_PORT=7077
SPARK_MASTER_WEBUI_PORT=1990
SPARK_HISTORY_SERVER_PORT=18080

# Worker configuration
SPARK_WORKER_MEMORY=16G
SPARK_WORKER_CORES=8
SPARK_WORKER_REPLICAS=1

# Daemon and system memory
SPARK_DAEMON_MEMORY=1g

# ==========================================
# JUPYTER CONFIGURATION
# ==========================================
JUPYTERLAB_VERSION=latest
JUPYTER_PORT=8888
# Leave empty for auto-generated secure token
JUPYTER_TOKEN=psi

# Spark driver ports for Docker networking
SPARK_DRIVER_PORT=7078
SPARK_BLOCK_MANAGER_PORT=7079

# ==========================================
# SECURITY & PERFORMANCE
# ==========================================
# Set to 'yes' in production for better security
SPARK_AUTHENTICATION_ENABLED=no
SPARK_ENCRYPTION_ENABLED=no
SPARK_SSL_ENABLED=no

# Performance tuning
SPARK_EXECUTOR_MEMORY=16g
SPARK_EXECUTOR_CORES=8
SPARK_DRIVER_MEMORY=16g

# ==========================================
# ADVANCED CONFIGURATION
# ==========================================
# Resource limits and optimization
SPARK_MAX_CORES=4
SPARK_DEFAULT_PARALLELISM=8

# JVM settings
SPARK_DRIVER_MEMORY_FRACTION=0.8
SPARK_EXECUTOR_MEMORY_FRACTION=0.8

# Network timeouts (in seconds)
SPARK_NETWORK_TIMEOUT=120s
SPARK_RPC_ASK_TIMEOUT=120s